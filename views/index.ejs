<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Multiplayer chess game with real-time gameplay and chat">
    <title>Chess Game - Play Online</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="/stylesheets/style.css">
    <link rel="stylesheet" href="/stylesheets/mobile.css">
</head>

<body>
    <header>
        <h1><i class="fas fa-chess"></i> Chess Game</h1>
    </header>

    <main>
        <!-- Game Info Panel - LEFT COLUMN -->
        <div class="game-info">
            <h2><i class="fas fa-info-circle"></i> Game Info</h2>

            <!-- White Player Card -->
            <div class="player-card white-player" id="white-player-card">
                <div class="player-name">
                    <span class="player-color white"></span>
                    <span>White Player</span>
                </div>
                <div class="captured-pieces" id="white-captured"></div>
            </div>

            <!-- Game Status -->
            <div id="current-turn">Current Turn: White</div>
            <div id="game-status"></div>

            <!-- Black Player Card -->
            <div class="player-card black-player" id="black-player-card">
                <div class="player-name">
                    <span class="player-color black"></span>
                    <span>Black Player</span>
                </div>
                <div class="captured-pieces" id="black-captured"></div>
            </div>

            <!-- Move History -->
            <div class="move-history">
                <h3><i class="fas fa-history"></i> Move History</h3>
                <ul id="move-list"></ul>
            </div>

            <!-- Game Controls -->
            <div class="game-controls">
                <button id="flip-board" class="btn-secondary" title="Flip the board"><i class="fas fa-sync-alt"></i>
                    Flip</button>
                <button id="resign-btn" class="btn-danger" title="Resign the game"><i class="fas fa-flag"></i>
                    Resign</button>
            </div>
        </div>

        <!-- Chess Board -->
        <section class="game-container">
            <div class="board-wrapper">
                <!-- Top coordinates (a-h) -->
                <div class="coord-top coordinates">
                    <span>a</span><span>b</span><span>c</span><span>d</span>
                    <span>e</span><span>f</span><span>g</span><span>h</span>
                </div>

                <!-- Left coordinates (8-1) -->
                <div class="coord-left coordinates">
                    <span>8</span><span>7</span><span>6</span><span>5</span>
                    <span>4</span><span>3</span><span>2</span><span>1</span>
                </div>

                <!-- Chess Board -->
                <div class="chessboard"></div>

                <!-- Right coordinates (8-1) -->
                <div class="coord-right coordinates">
                    <span>8</span><span>7</span><span>6</span><span>5</span>
                    <span>4</span><span>3</span><span>2</span><span>1</span>
                </div>

                <!-- Bottom coordinates (a-h) -->
                <div class="coord-bottom coordinates">
                    <span>a</span><span>b</span><span>c</span><span>d</span>
                    <span>e</span><span>f</span><span>g</span><span>h</span>
                </div>
            </div>
        </section>

        <!-- Chat Section - RIGHT COLUMN -->
        <section id="chat-box">
            <h2><i class="fas fa-comments"></i> Chat</h2>
            <div id="chat-messages"></div>
            <div class="chat-input-container">
                <input type="text" id="chat-input" placeholder="Type your message..." autocomplete="off">
                <button id="chat-send">Send</button>
            </div>
        </section>
    </main>

    <!-- Game Over Modal -->
    <div id="game-over-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-icon" id="modal-icon"></div>
            <h2 id="modal-title">Game Over</h2>
            <p id="modal-message">The game has ended.</p>
            <button id="modal-close-btn" class="btn-primary">Close</button>
        </div>
    </div>

    <!-- Resign Confirmation Modal -->
    <div id="resign-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-icon">⚠️</div>
            <h2>Resign Game?</h2>
            <p>Are you sure you want to resign? This will end the game.</p>
            <div class="modal-buttons">
                <button id="resign-confirm-btn" class="btn-danger">Yes, Resign</button>
                <button id="resign-cancel-btn" class="btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Promotion Modal -->
    <div id="promotion-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Choose Promotion Piece</h2>
            <div id="promotion-options"></div>
        </div>
    </div>

    <footer>
        <p>Developed by Manjeet Kumar | Chess Game © 2025</p>
    </footer>

    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
    <script src="/javascripts/modals.js"></script>
    <script src="/javascripts/chessGame.js"></script>
    <script src="/javascripts/chessUI.js"></script>
</body>

</html>